# 思路
代码整体流程可分为三部分，分别是命令输入、命令解析和命令执行。
![avatar](/flow.svg)
在命令输入部分，采用GNU readline第三方库进行命令的读入。
在命令解析部分，首先对输入命令字符串按照空格进行切分，获得字符串列表。然后在列表中查找有无“|”字符串，若有，则说明存在管道，需要定义匿名管道，并将相应的文件描述符发送给对应的命令进行重定向，若无，则说明不存在管道，直接执行命令即可。
在命令执行部分，首先根据命令解析结果，在存在管道的情况下定义匿名管道。然后使用fork()函数创建子进程，执行一个或多个命令。而父进程则根据命令是否为后台运行，即判断命令结尾是否有‘&’字符，来执行wait()函数等待子进程结束，或直接输出命令提示符开始等待下一条命令输入。在子进程执行命令过程中，如果命令的字符串列表中包含“>>”、“>”或“<”字符串，则进行相应的重定向操作，将命令的输入或输出重定向到指定的文件中。在子进程执行命令前，还需对命令进行查找，判断该命令是否存在。
# 第三方库
GNU readline
# 编译和运行
在当前目录下执行make all进行编译。
在当前目录下执行make run进行编译并运行。
